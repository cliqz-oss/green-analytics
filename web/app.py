from index import app, db
from controllers.sites import Sites
from controllers.messages import Messages
from controllers.green_analytics_script import GreenAnalyticsScript
from controllers.analyze import Analyze
from controllers.metric_detail import MetricData
from controllers.landing import Landing
import json

from flask import request, render_template

@app.route('/sites', methods=['GET'])
def sites():
    controller = Sites()
    return controller.respond()

@app.route('/ga-script', methods=['GET'])
def ga_script():
    controller = GreenAnalyticsScript()
    return controller.respond()

@app.route('/collect', methods=['GET', 'POST'])
def collect():
    controller = Messages()
    return controller.respond()


@app.route('/', methods=['GET'])
def index():
    controller = Landing()
    return controller.respond()

@app.route('/sample-dashboard', methods=['GET'])
def testDashboard():
    controller = Analyze()
    return controller.respond()


@app.route('/metric_details', methods=['GET'])
def testMetric():
    doc = {"data": [[1473984000.0, 1], [1465344000.0, 2], [1480291200.0, 6], [1466294400.0, 3], [1488412800.0, 2], [1468195200.0, 2], [1483056000.0, 2], [1474675200.0, 1], [1480377600.0, 1], [1488499200.0, 1], [1485820800.0, 1], [1460937600.0, 6], [1484956800.0, 1], [1488585600.0, 1], [1469318400.0, 20], [1475798400.0, 1], [1466640000.0, 2], [1473120000.0, 1], [1485993600.0, 1], [1490659200.0, 1], [1459382400.0, 2], [1461283200.0, 3], [1489881600.0, 2], [1491782400.0, 1], [1476144000.0, 1], [1460505600.0, 6], [1485475200.0, 1], [1462406400.0, 6], [1479945600.0, 5], [1470787200.0, 9], [1466208000.0, 2], [1456617600.0, 0], [1490227200.0, 1], [1462060800.0, 3], [1463529600.0, 2], [1492128000.0, 1], [1465430400.0, 1], [1471910400.0, 1], [1484870400.0, 1], [1469232000.0, 2], [1475712000.0, 2], [1473033600.0, 1], [1460073600.0, 1], [1477612800.0, 6], [1461974400.0, 2], [1468454400.0, 1], [1483920000.0, 1], [1474934400.0, 2], [1465776000.0, 2], [1484006400.0, 1], [1473206400.0, 3], [1467676800.0, 2], [1485216000.0, 1], [1491696000.0, 0], [1487116800.0, 2], [1473292800.0, 1], [1460419200.0, 4], [1462320000.0, 3], [1468800000.0, 2], [1481500800.0, 1], [1470700800.0, 7], [1489622400.0, 0], [1466121600.0, 1], [1461542400.0, 3], [1456963200.0, 1], [1476921600.0, 1], [1477699200.0, 3], [1476403200.0, 1], [1495152000.0, 1], [1460764800.0, 8], [1467244800.0, 2], [1480204800.0, 5], [1495238400.0, 1], [1484438400.0, 1], [1464566400.0, 2], [1477526400.0, 4], [1472947200.0, 1], [1457308800.0, 1], [1468368000.0, 2], [1465689600.0, 6], [1471132800.0, 2], [1496188800.0, 1], [1479254400.0, 2], [1457654400.0, 0], [1487030400.0, 1], [1460332800.0, 1], [1466812800.0, 4], [1479340800.0, 6], [1462233600.0, 2], [1468713600.0, 6], [1479427200.0, 1], [1466035200.0, 2], [1476748800.0, 3], [1494633600.0, 1], [1456876800.0, 1], [1471392000.0, 2], [1474416000.0, 1], [1490313600.0, 2], [1480896000.0, 2], [1476835200.0, 5], [1476316800.0, 1], [1471737600.0, 2], [1456444800.0, 3], [1460678400.0, 3], [1490400000.0, 1], [1487721600.0, 1], [1480118400.0, 3], [1464480000.0, 1], [1482019200.0, 1], [1477440000.0, 2], [1461801600.0, 2], [1468281600.0, 2], [1482451200.0, 2], [1474761600.0, 2], [1470182400.0, 1], [1465603200.0, 5], [1461024000.0, 4], [1467504000.0, 4], [1496102400.0, 1], [1480464000.0, 2], [1493424000.0, 1], [1477785600.0, 3], [1462147200.0, 7], [1492646400.0, 1], [1474329600.0, 1], [1477008000.0, 3], [1466553600.0, 2], [1483488000.0, 1], [1471996800.0, 4], [1463270400.0, 0], [1487289600.0, 0], [1460592000.0, 22], [1472083200.0, 1], [1462492800.0, 8], [1479081600.0, 1], [1480032000.0, 6]]}
    return json.dumps(doc)

if __name__ == '__main__':
    app.run(debug=True)
