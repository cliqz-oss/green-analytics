<script>
    window.onload = function() {
        var table = document.getElementById('key-table');

        var messages = JSON.parse((localStorage.getItem('gt:message-sent-demo-only') || '[]'))

        for(var i=0;i<messages.length;i++) {
            var row = table.insertRow(0);
            var cell1 = row.insertCell(0);
            var val = JSON.stringify(messages[i], null, 4);
            cell1.innerHTML = '<pre><code>'+ val +'</code></pre>';
        }
    }
</script>

<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- The above 3 meta tags *must* come first in the head; any other head content must come *after* these tags -->
    <meta name="description" content="">
    <meta name="author" content="">
    <link rel="icon" type="image/png" href="/static/favicon.png">

    <title> Green-tracker Introspection </title>

    <!-- Bootstrap core CSS -->
    <link href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.6/css/bootstrap.min.css" rel="stylesheet">

    <!-- Custom styles for this template -->
    <link href="/static/style-log.css" rel="stylesheet">
  </head>

  <body>
    <div class="row container-fluid">
        <h2>Your messages sent to green-tracker</h2>

        <p>This is a list of all the messages (signals) that <b>green-tracker</b> backend has received from you.
            We keep this list for demo purposes on your localStorage.
        <p>If you inspect the message you will see that they do not contain any information that could be used to build
        a user-identifier of any kind. It is not possible to do server-side aggregation with the information you sent.
        <p>Nevertheless, we are still able to build analytics -- check out the <a href="/logs">report</a> -- that cover a wide
        range of the features offered by Google Analytics. Remember that all analytics services rely on server-side aggregation, therefore,
        they must send data that allows them to build a user identifier to be able to do so.

        <p>To see the data stored in your local storage you can check <a href="/introspect/localstorage">here</a>.</p>

        <p>&nbsp;</p>
        <table class="table table-striped ">
            <thead>
                <tr>
                     <th>Messages (capped to most recent 200)</th>
                </tr>
            </thead>
            <tbody id="key-table">

            </tbody>
        </table>
    </div>

  </body>
</html>

